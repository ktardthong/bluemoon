      <div ng-repeat="topic in topics | orderBy:'-created'">


        <br/>
        {{topic.$id}}
        <br>

        <div class="card card-block container-fluid">
          <div class="card-title">
            <small class="pull-left">
              <i class="ion-ios-clock-outline"></i>
              <span am-time-ago="topic.created"></span>
            </small>

            <small class="pull-left">
              <i ng-if="topic.type == 'question'" class="ion-help"></i>
              <i ng-if="topic.type == 'topic'"    class="ion-chatbubble-working"></i> {{ topic.type }}
            </small>

            <small class="pull-right">
              <a ng-hide="topic.followers[topicCtrl.uid]" ng-click="topicCtrl.followTopic(topic)" class="purple-light-font ion-plus-round" aria-label="Follow"> Follow {{topic.followers.count || '0'}}</a>
              <a ng-show="topic.followers[topicCtrl.uid]" ng-click="topicCtrl.unfollowTopic(topic)" class="red-font ion-plus-round" aria-label="Follow"> Unfollow {{topic.followers.count || '0'}}</a>
            </small>
          </div>

          <br/>

          <h4 class="card-title">

            <a ui-sref="topic({Slug: topic.slug})" class="purple-light-font">
              {{topic.topic}}
            </a>

          </h4>

          <p class="card-text">
            {{topic.body | limitTo: 140 }}
          </p>

          <!-- If there is location-->
          <div ng-if="topic.location.name">
            <p class="md-subheader">
              <a ui-sref="places({place_slug: topic.location.slug,
                                  place_id: topic.location.place_id})">
                {{topic.location.name}}
              </a>
            </p>

            <img
              class="img-fluid"
              src="https://maps.googleapis.com/maps/api/staticmap?size=600x160&maptype=roadmap&zoom=13
                &markers=color:purple%7Clabel:S%7C{{topic.location.lat}},{{topic.location.lng}}">
          </div>



          <div ng-if="topic.tags">
            <span>Tags</span>
            <span ng-repeat="tag in topic.tags">
              {{tag.text}}
            </span>
          </div>

          <div ng-if="topic.photos">
            <flex-slider flex-slide="photo in topic.photos">
              <li>
                <img ng-src="{{photo}}" class="img-fluid" alt="Washed Out">
              </li>
            </flex-slider>

          </div>

          <div class="media">
            <div class="media-left">
              <a href="#">
                <img class="media-object img-circle" src="{{topicCtrl.users.profile(topic.uid).photo }}" width="32px" />
              </a>
            </div>
            <div class="media-body">
              <p class="media-heading">
                <small>
                  <b>
                    <a ui-sref="profile({Name: topicCtrl.users.getDisplayName(topic.uid) })">
                      @{{topicCtrl.users.getDisplayName(topic.uid) || "User"}}
                    </a>
                  </b>

                  | upvote reply 20 | upvote post 50

                </small>
              </p>
              <!--<p>@{{topicCtrl.users.getDisplayName(topic.uid) || "User"}} | {{topic.uid || "UserId"}}</p>-->
            </div>
          </div>
          <br/>
          <topic-actions-card topic='topic'></topic-actions-card>
        </div>


<!-- Material
        <md-card class="md-whiteframe-2dp">

          <md-card-title>
            <md-card-title-text>
              <small layout="row">
                <div class="col-md-6">
                  <i class="ion-ios-clock-outline"></i>
                  <span am-time-ago="topic.created"></span>
                </div>
                <div class="col-md-6">
                  <span class="pull-right">
                    <md-button ng-hide="topic.followers[topicCtrl.uid]" ng-click="topicCtrl.followTopic(topic)" class="ion-plus-round" aria-label="Follow"> Follow {{topic.followers.count || '0'}}</md-button>
                    <md-button ng-show="topic.followers[topicCtrl.uid]" ng-click="topicCtrl.unfollowTopic(topic)" class="md-primary md-raised ion-plus-round" aria-label="Follow"> Unfollow {{topic.followers.count || '0'}}</md-button>
                  </span>
                </div>
              </small>
              <span class="md-title text-center md-padding">
                <a ui-sref="topic({Slug: topic.slug})">{{topic.topic}}</a>
              </span>
            </md-card-title-text>
          </md-card-title>



          <md-card-content>
            <p class="md-body-2">
              {{topic.body | limitTo: 140 }}
            </p>


            <p ng-if="topic.location">
              <p class="md-subheader">
                {{topic.location.name}}
              </p>
              <img
                class="img-responsive"
                src="https://maps.googleapis.com/maps/api/staticmap?size=600x300&maptype=roadmap&zoom=13
              &markers=color:purple%7Clabel:S%7C{{topic.location.lat}},{{topic.location.lng}}">
            </p>

            <p>
              {{topic.body.length}}
              {{topic.body | limitTo: 140 }} /
            </p>
          </md-card-content>

          <div ng-if="topic.photos" ng-repeat="photo in topic.photos">
            <img ng-src="{{photo}}" class="md-card-image" alt="Washed Out">
          </div>

          <md-card-header>
            <md-card-avatar>
              <img class="md-user-avatar" src="/images/avatar.jpg"/>
            </md-card-avatar>

            <md-card-header-text>
              <span class="md-title">Firstname Lastname</span>
              <span class="md-subhead">@{{topicCtrl.users.getDisplayName(topic.uid) || "User"}} | {{topic.uid || "UserId"}}</span>
            </md-card-header-text>
          </md-card-header>


          <!--
          ---Comment out here ---
          <md-card-actions layout="row" layout-align="start center">
            <md-card-icon-actions>

              <md-button ng-hide="topic.upvotes[topicCtrl.uid]" ng-click="topicCtrl.upvote(topic)" class="ion-chevron-up" aria-label="Upvote"> Upvote 268</md-button>

              <md-button ng-show="topic.upvotes[topicCtrl.uid]" ng-click="topicCtrl.cancelUpvote(topic)" class="md-primary md-raised ion-chevron-up" aria-label="Upvote"> Upvoted 269</md-button>

              <md-button ng-hide="topic.downvotes[topicCtrl.uid]" ng-click="topicCtrl.downvote(topic)" class="ion-chevron-down" aria-label="Upvote"> Downvote 59</md-button>
              <md-button ng-show="topic.downvotes[topicCtrl.uid]" ng-click="topicCtrl.cancelDownvote(topic)" class="md-primary md-raised md-hue-2 ion-chevron-down" aria-label="Upvote"> Downvoted 60</md-button>

              <md-button class="ion-chatbubble-working"     aria-label="Comments"> Comments 2 </md-button>
              <md-button class="ion-share"     aria-label="Share"> Share </md-button>
            </md-card-icon-actions>
          </md-card-actions>
          --- end comment out ---

          <topic-actions-card topic='topic'></topic-actions-card>

        </md-card>
      </div>
  -->
